# 4K对齐
在很久很久以前，当时的计算机还比较low

存储也比较小，为了管理硬件，所有的存储分成几段，每段固定长度。那么操作系统为了管理这部分存储，就开辟一个内存，专门用来存储，内存分成了几段，每段多长。

但是，1965一个魔法师突然对计算机发出了诅咒

他说：每隔18-24个月，集成电路上能容纳的元器件会翻一番。这就是传说中的摩尔诅咒

对没错，就是因为这个诅咒，存储芯片能容纳的存储单元越来越多，越来越便宜。后来多大操作系统的开发人员发现，专门弄个内存，来存储上面的信息。好像有点不太够用了
怎么办

又是这个来自地狱的魔法师，创办了一个极具革命性的公司——intel
intel开始专门为存储的管理，加入了一个硬件单元，叫做MMU（memory manage unit）

为了更好的对存储进行管理，intel这群丧心病狂的魔法师，开始了极具创造性的发明，将内存进行多级划分。他们提出了一个猜想：软件引入的层级越多，越具有灵活性，当然性能会越差。同样的这个猜想被他们放在了硬件的制造上面。
导致的后果就是：MMU单元采用了多级管理存储。

接下来先来简述一下多级管理：你要访问某个地址A，你先取得第一级对照表，第一级对照表存储得有第二集对照表所在的位置。然后再去第二集对照表查找到真正的地址B。这个地址可能是在磁盘上，也可能在内存中，反正软件不关心。
上面的A到B，就是传说中的，逻辑地址到物理地址的转换。

此时引入了另外一个问题：第二级对照表怎么管理所有的存储了呢？

在最开始的设计中，intel也采用了最最最原始的方法，将所有内存分成一片片的。每片多大呢？这个大小是可以更改的，可以是4k，8k。。。不过目前大部分的系统使用的都是4k。这个东西呀，就是传说中的分页

好了，你的磁盘也是按照4k进行分片的。记住记着，这是对于cpu这一头的人来讲的。

真正管理磁盘的是，磁盘里面的芯片，为了保持跟cpu老大哥的节奏，磁盘里面的芯片也妥协了，为了达到最大的效能，也按照4k进行管理。即对外表现为：它是按照4k进行管理的

而真正的磁盘管理，跟具体的材料有关，比如机械盘，比如FLASH颗粒。他们的管理都不太一样